---
default: &default
  bootloader: &bootloader
  - installation/bootloader_start
  setup_libyui: &setup_libyui
  - installation/setup_libyui
  product_selection: &product_selection
  - installation/access_beta_distribution
  - installation/product_selection/install_SLES
  license_agreement: &license_agreement
  - installation/licensing/accept_license
  registration: &registration
  - installation/registration/register_via_scc
  extension_and_module_selection: &extension_and_module_selection
  - installation/module_registration/skip_module_registration.pm
  add_on_product: &add_on_product
  - installation/add_on_product/skip_install_addons
  system_role: &system_role
  - installation/system_role/accept_selected_role_text_mode
  accept_proposed_layout: &accept_proposed_layout
  - installation/partitioning/accept_proposed_layout
  clock_and_timezone: &clock_and_timezone
  - installation/clock_and_timezone/accept_timezone_configuration
  local_user: &local_user
  - installation/authentication/use_same_password_for_root
  - installation/authentication/default_user_simple_pwd
  installation_settings_booting: &installation_settings_booting
  - installation/bootloader_settings/disable_boot_menu_timeout
  install: &install
  - installation/launch_installation
  - installation/confirm_installation
  - installation/performing_installation/perform_installation
  install_logs: &install_logs
  - installation/logs_from_installation_system
  reboot: &reboot
  - installation/reboot_after_installation
  grub: &handle_reboot
  - installation/handle_reboot
  first_login: &first_login
  - installation/first_boot
  system_validation: &system_validation []

guided: &guided
  bootloader: *bootloader
  setup_libyui: *setup_libyui
  product_selection: *product_selection
  license_agreement: *license_agreement
  registration: *registration
  extension_and_module_selection: *extension_and_module_selection
  add_on_product: *add_on_product
  system_role: *system_role
  select_guided_setup:
  - installation/partitioning/select_guided_setup
  select_hard_disks: []
  partitioning_scheme:
  - installation/partitioning/guided_setup/accept_default_part_scheme
  filesystem_options:
  - installation/partitioning/guided_setup/accept_default_fs_options
  accept_proposed_layout: *accept_proposed_layout
  clock_and_timezone: *clock_and_timezone
  local_user: *local_user
  installation_settings_booting: *installation_settings_booting
  install: *install
  install_logs: *install_logs
  reboot: *reboot
  grub: *handle_reboot
  first_login: *first_login
  system_validation: *system_validation

guided+gnome: &guided+gnome
  <<: *guided
  extension_and_module_selection:
  - installation/module_registration/register_module_desktop
  system_role:
  - installation/system_role/accept_selected_role_SLES_with_GNOME

# validations
guided+gnome+part_val:
  <<: *guided+gnome
  system_validation: 
  - console/validate_partition_table_via_blkid
  - console/validate_blockdevices
  - console/validate_free_space   

guided+gnome+btrfs_val:
  <<: *guided+gnome
  system_validation:
  - console/system_prepare
  - console/force_scheduled_tasks
  - console/hibernation_disabled
  - console/validate_product_installed_SLES
  - console/validate_no_cow_attribute
  - console/verify_separate_home
  - console/validate_partition_table_via_blkid
  - console/validate_blockdevices
